####created by：张少斌
####created time：2019-07-10
## Cron简介

<code>crontab</code> 命令常见于 Unix 和类 Unix 的操作系统中，在 Java 中有一个名为 Quartz 的开源作业调度框架的功能与之类似，它们用来定义时间规则的corn表达式很相似。

## Cron 表达式

<code>cron</code> 表达式共有 7 个字段，包括 <code>Seconds, Minutes, Hours, Day of mouth, Mouth, Day of week, Year</code>

| Seconds | Minutes | Hours | Day of mouth | Mouth | Day of week | [Year] |
| ------- | ------- | ----- | ------------ | ----- | ----------- | ------ |
| 秒      | 分      | 时    | 天           | 月    | 周          | [年]   |

其中  <code>Year</code> 是可选的。

### 各字段的允许值及允许字符

| 字段名       | 允许值                                       | 允许的特殊字符 |
| ------------ | -------------------------------------------- | -------------- |
| Seconds      | 0-59                                         | , - * /        |
| Minutes      | 0-59                                         | , - * /        |
| Hours        | 0-23                                         | , - * /        |
| Day of mouth | 1-31                                         | , - * / ? L W  |
| Mouth        | 1-12 or JAN-DEC                              | , - * /        |
| Day of week  | 1-7 or SUN-SAT(1表示星期天，2表示星期一，… ) | , - * / ? L #  |
| Year         | empty（允许为空）, 1970-2099                 | , - * /        |

### 特殊字符的含义

**\*** ：匹配该字段允许的任意值，如果该字符在秒的位置处，表示每秒都会触发事件

**-** ：表示范围，如果在分钟的位置处使用 5-20，即从第 5 分钟到第 20 分钟每分钟触发一次

**/** ：表示触发的起始时间和间隔时间，如果在分钟位置使用 5/20 ，即从第 5 分钟开始每隔 20 分钟触发一次

**,** ：表示列出枚举值，如果在分钟位置使用 5, 20 ，即在第 5 和第 20 分钟各触发一次

**?** ：只能用在 Day of mouth 和 Day of week 字段中，表示忽略任意值，因为这两个字段值可能会发生冲突，当其中一个值被指定后，需要忽略另一个来避免冲突。

**L (last)** ：表示最后，在 Day of mouth 字段中表示"这个月最后一天"，在 Day of week 字段如果配合数字使用 ，如5L，表示"该月的最后一个星期四"

**W (weekday)** ：工作日，表示最接近指定天的工作日(周一到周五)，比如 15W，指最近接本月第15天的工作日，如果那天是周六，则在那周五即前一天触发事件，如果那天是周日，则在下周周一触发事件，如果那天是在周一到周五的范围内，则在当天触发。

**#** ：只能用在 Day of week 字段中，表示该月的第几个周几，如 6#3 表示第3个周五(3 表示第 3 个，6 表示周五)，如果指定日期不存在，事件不会触发。

### 例子

| 表达式                       | 意义                                                     |
| ---------------------------- | -------------------------------------------------------- |
| `"0 0 12 * * ?"`             | 每天中午12点触发                                         |
| `"0 15 10 ? * *"`            | 每天上午10:15触发                                        |
| `"0 15 10 * * ?"`            | 每天上午10:15触发                                        |
| `"0 15 10 * * ? *"`          | 每天上午10:15触发                                        |
| `"0 15 10 * * ? 2005"`       | 2005年的每天上午10:15触发                                |
| `"0 * 14 * * ?"`             | 在每天下午2点到下午2:59期间的每1分钟触发                 |
| `"0 0/5 14 * * ?"`           | 在每天下午2点到下午2:55期间的每5分钟触发                 |
| `"0 0/5 14,18 * * ?"`        | 在每天下午2点到2:55期间和下午6点到6:55期间的每 5分钟触发 |
| `"0 0-5 14 * * ?"`           | 在每天下午2点到下午2:05期间的每1分钟触发                 |
| `"0 10,44 14 ? 3 WED"`       | 每年三月的星期三的下午2:10和2:44触发                     |
| `"0 15 10 ? * MON-FRI"`      | 周一至周五的上午10:15触发                                |
| `"0 15 10 15 * ?"`           | 每月15日上午10:15触发                                    |
| `"0 15 10 L * ?"`            | 每月最后一日的上午10:15触发                              |
| `"0 15 10 ? * 6L 2002-2005"` | 2002年至2005年的每月的最后一个星期五上午 10:15触发       |
| `"0 15 10 ? * 6#3"`          | 每月的第三个星期五上午10:15触发                          |

​

## 参考文章

1. [spring cron-Expression 与linux crontab 的配置参数含义](http://www.voidcn.com/article/p-dwwkepmc-bmk.html)

2. [cron表达式详解](https://www.cnblogs.com/linjiqin/p/3178452.html)

3. [详解Quartz定时任务框架中的Cron时间表达式](https://www.izhangheng.com/spring-quartz-cron-expression)